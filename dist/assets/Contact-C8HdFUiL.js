import{r as o,x as B,j as a,y as z,z as T,A as O,B as W,C as U,D as J,E as G}from"./index-C1ytswyy.js";class X extends o.Component{getSnapshotBeforeUpdate(t){const s=this.props.childRef.current;if(s&&t.isPresent&&!this.props.isPresent){const r=s.offsetParent,n=z(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=s.offsetHeight||0,i.width=s.offsetWidth||0,i.top=s.offsetTop,i.left=s.offsetLeft,i.right=n-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Y({children:e,isPresent:t,anchorX:s}){const r=o.useId(),n=o.useRef(null),i=o.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:f}=o.useContext(B);return o.useInsertionEffect(()=>{const{width:g,height:d,top:p,left:l,right:c}=i.current;if(t||!n.current||!g||!d)return;const b=s==="left"?`left: ${l}`:`right: ${c}`;n.current.dataset.motionPopId=r;const u=document.createElement("style");return f&&(u.nonce=f),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${d}px !important;
            ${b}px !important;
            top: ${p}px !important;
          }
        `),()=>{document.head.contains(u)&&document.head.removeChild(u)}},[t]),a.jsx(X,{isPresent:t,childRef:n,sizeRef:i,children:o.cloneElement(e,{ref:n})})}const Q=({children:e,initial:t,isPresent:s,onExitComplete:r,custom:n,presenceAffectsLayout:i,mode:f,anchorX:g})=>{const d=T(Z),p=o.useId();let l=!0,c=o.useMemo(()=>(l=!1,{id:p,initial:t,isPresent:s,custom:n,onExitComplete:b=>{d.set(b,!0);for(const u of d.values())if(!u)return;r&&r()},register:b=>(d.set(b,!1),()=>d.delete(b))}),[s,d,r]);return i&&l&&(c={...c}),o.useMemo(()=>{d.forEach((b,u)=>d.set(u,!1))},[s]),o.useEffect(()=>{!s&&!d.size&&r&&r()},[s]),f==="popLayout"&&(e=a.jsx(Y,{isPresent:s,anchorX:g,children:e})),a.jsx(O.Provider,{value:c,children:e})};function Z(){return new Map}const C=e=>e.key||"";function N(e){const t=[];return o.Children.forEach(e,s=>{o.isValidElement(s)&&t.push(s)}),t}const ee=({children:e,custom:t,initial:s=!0,onExitComplete:r,presenceAffectsLayout:n=!0,mode:i="sync",propagate:f=!1,anchorX:g="left"})=>{const[d,p]=W(f),l=o.useMemo(()=>N(e),[e]),c=f&&!d?[]:l.map(C),b=o.useRef(!0),u=o.useRef(l),x=T(()=>new Map),[D,I]=o.useState(l),[w,R]=o.useState(l);U(()=>{b.current=!1,u.current=l;for(let y=0;y<w.length;y++){const h=C(w[y]);c.includes(h)?x.delete(h):x.get(h)!==!0&&x.set(h,!1)}},[w,c.length,c.join("-")]);const k=[];if(l!==D){let y=[...l];for(let h=0;h<w.length;h++){const v=w[h],S=C(v);c.includes(S)||(y.splice(h,0,v),k.push(v))}return i==="wait"&&k.length&&(y=k),R(N(y)),I(l),null}const{forceRender:P}=o.useContext(J);return a.jsx(a.Fragment,{children:w.map(y=>{const h=C(y),v=f&&!d?!1:l===w||c.includes(h),S=()=>{if(x.has(h))x.set(h,!0);else return;let E=!0;x.forEach($=>{$||(E=!1)}),E&&(P==null||P(),R(u.current),f&&(p==null||p()),r&&r())};return a.jsx(Q,{isPresent:v,initial:!b.current||s?void 0:!1,custom:t,presenceAffectsLayout:n,mode:i,onExitComplete:v?void 0:S,anchorX:g,children:y},h)})})};class j{constructor(t=0,s="Network Error"){this.status=t,this.text=s}}const te=()=>{if(!(typeof localStorage>"u"))return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}},m={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:te()},L=e=>e?typeof e=="string"?{publicKey:e}:e.toString()==="[object Object]"?e:{}:{},se=(e,t="https://api.emailjs.com")=>{if(!e)return;const s=L(e);m.publicKey=s.publicKey,m.blockHeadless=s.blockHeadless,m.storageProvider=s.storageProvider,m.blockList=s.blockList,m.limitRate=s.limitRate,m.origin=s.origin||t},H=async(e,t,s={})=>{const r=await fetch(m.origin+e,{method:"POST",headers:s,body:t}),n=await r.text(),i=new j(r.status,n);if(r.ok)return i;throw i},F=(e,t,s)=>{if(!e||typeof e!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||typeof t!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!s||typeof s!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},re=e=>{if(e&&e.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},M=e=>e.webdriver||!e.languages||e.languages.length===0,_=()=>new j(451,"Unavailable For Headless Browser"),ne=(e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if(typeof t!="string")throw"The BlockList watchVariable has to be a string"},ie=e=>{var t;return!((t=e.list)!=null&&t.length)||!e.watchVariable},ae=(e,t)=>e instanceof FormData?e.get(t):e[t],V=(e,t)=>{if(ie(e))return!1;ne(e.list,e.watchVariable);const s=ae(t,e.watchVariable);return typeof s!="string"?!1:e.list.includes(s)},K=()=>new j(403,"Forbidden"),oe=(e,t)=>{if(typeof e!="number"||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&typeof t!="string")throw"The LimitRate ID has to be a non-empty string"},le=async(e,t,s)=>{const r=Number(await s.get(e)||0);return t-Date.now()+r},A=async(e,t,s)=>{if(!t.throttle||!s)return!1;oe(t.throttle,t.id);const r=t.id||e;return await le(r,t.throttle,s)>0?!0:(await s.set(r,Date.now().toString()),!1)},q=()=>new j(429,"Too Many Requests"),ce=async(e,t,s,r)=>{const n=L(r),i=n.publicKey||m.publicKey,f=n.blockHeadless||m.blockHeadless,g=n.storageProvider||m.storageProvider,d={...m.blockList,...n.blockList},p={...m.limitRate,...n.limitRate};return f&&M(navigator)?Promise.reject(_()):(F(i,e,t),re(s),s&&V(d,s)?Promise.reject(K()):await A(location.pathname,p,g)?Promise.reject(q()):H("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:i,service_id:e,template_id:t,template_params:s}),{"Content-type":"application/json"}))},de=e=>{if(!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},ue=e=>typeof e=="string"?document.querySelector(e):e,me=async(e,t,s,r)=>{const n=L(r),i=n.publicKey||m.publicKey,f=n.blockHeadless||m.blockHeadless,g=m.storageProvider||n.storageProvider,d={...m.blockList,...n.blockList},p={...m.limitRate,...n.limitRate};if(f&&M(navigator))return Promise.reject(_());const l=ue(s);F(i,e,t),de(l);const c=new FormData(l);return V(d,c)?Promise.reject(K()):await A(location.pathname,p,g)?Promise.reject(q()):(c.append("lib_version","4.4.1"),c.append("service_id",e),c.append("template_id",t),c.append("user_id",i),H("/api/v1.0/email/send-form",c))},fe={init:se,send:ce,sendForm:me,EmailJSResponseStatus:j},he=({type:e,text:t})=>{const s={hidden:{opacity:0,y:50,scale:.8},visible:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-50,scale:.8}};return a.jsx(ee,{children:a.jsx(G.div,{className:"fixed z-50 flex items-center justify-center bottom-5 right-5",initial:"hidden",animate:"visible",exit:"exit",variants:s,transition:{duration:.3,ease:"easeInOut"},children:a.jsxs("div",{className:`p-2 ${e==="danger"?"bg-red-800":"bg-royal"} items-center text-indigo-100 leading-none lg:rounded-full flex lg:inline-flex rounded-md p-5`,children:[a.jsx("p",{className:`flex rounded-full ${e==="danger"?"bg-red-500":"bg-lavender"} uppercase px-2 py-1 text-xs font-semibold mr-3`,children:e==="danger"?"Failed":"Success"}),a.jsx("p",{className:"mr-2 text-left",children:t})]})})})},ge=()=>{const[e,t]=o.useState({name:"",email:"",message:""}),[s,r]=o.useState(!1),[n,i]=o.useState(!1),[f,g]=o.useState("success"),[d,p]=o.useState(""),l=u=>{t({...e,[u.target.name]:u.target.value})},c=(u,x)=>{g(u),p(x),i(!0),setTimeout(()=>{i(!1)},5e3)},b=async u=>{u.preventDefault(),r(!0);try{console.log("From submitted:",e),await fe.send("service_o9h041e","template_597wxpj",{from_name:e.name,to_name:"Puneet Lagoo",from_email:e.email,to_email:"puneetkumarlagoo@gmail.com",message:e.message},"w1fHeEx98lFyorobK"),r(!1),t({name:"",email:"",message:""}),c("success","You message has been sent!")}catch(x){r(!1),console.log(x),c("danger","Somthing went wrong!")}};return a.jsxs("section",{id:"contact",className:"relative flex items-center c-space section-spacing",children:[n&&a.jsx(he,{type:f,text:d}),a.jsxs("div",{className:"flex flex-col items-center justify-center max-w-md p-5 mx-auto border border-white/10 rounded-2xl bg-primary",children:[a.jsxs("div",{className:"flex flex-col items-start w-full gap-5 mb-10",children:[a.jsx("h2",{className:"text-heading",children:"Want to Collaborate?"}),a.jsx("p",{className:"font-normal text-neutral-400",children:"Whether you're a musician, researcher or a venture capitalist, I'd love to hear from you! Feel free to reach out with any questions, ideas, or opportunities."})]}),a.jsxs("form",{className:"w-full",onSubmit:b,children:[a.jsx("div",{className:"mb-5",children:a.jsx("input",{id:"name",name:"name",type:"text",className:"field-input field-input-focus",placeholder:"Full Name",autoComplete:"name",value:e.name,onChange:l,required:!0})}),a.jsx("div",{className:"mb-5",children:a.jsx("input",{id:"email",name:"email",type:"email",className:"field-input field-input-focus",placeholder:"Email",autoComplete:"email",value:e.email,onChange:l,required:!0})}),a.jsx("div",{className:"mb-5",children:a.jsx("textarea",{id:"message",name:"message",type:"text",rows:"4",className:"field-input field-input-focus",placeholder:"Share your thoughts...",autoComplete:"message",value:e.message,onChange:l,required:!0})}),a.jsx("button",{type:"submit",className:"w-full px-1 py-3 text-lg text-center rounded-md cursor-pointer bg-radial from-lavender to-royal hover-animation",children:s?"Sending...":"Send"})]})]})]})};export{ge as default};
